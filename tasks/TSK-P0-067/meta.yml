phase: '0'
task_id: TSK-P0-067
title: "Reorder contract evidence status gate to run last"
owner_role: ARCHITECT
status: in_progress
depends_on:
- TSK-P0-061
touches:
- scripts/audit/run_phase0_ordered_checks.sh
- scripts/ci/run_ci_locally.sh
- tasks/TSK-P0-067/meta.yml
invariants:
- INV-081
work:
- "Skip contract evidence status inside run_invariants_fast_checks via exported env."
- "Run OpenBao smoke before evidence status in ordered checks."
- "Run verify_phase0_contract_evidence_status.sh as the final gate."
acceptance_criteria:
- "Evidence status check does not run before OpenBao evidence exists."
- "Local parity run mirrors CI order."
verification:
- scripts/audit/verify_ci_order.sh
evidence:
- evidence/phase0/ci_order.json
failure_modes:
- Evidence status gate runs before evidence producers.
- Evidence file missing.
must_read:
- scripts/audit/run_phase0_ordered_checks.sh
- scripts/ci/run_ci_locally.sh
notes: "Implemented ordering changes; verify once OpenBao runs locally."
client: codex_cli
assigned_agent: architect
model: <UNASSIGNED>
