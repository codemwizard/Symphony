{
  "version": 1,
  "ranges": {
    "P71xx": "outbox_invariants",
    "P72xx": "ingress_invariants",
    "P73xx": "policy_invariants",
    "P74xx": "revocation_invariants",
    "P90xx": "developer_guardrails"
  },
  "codes": {
    "P0001": {
      "class": "C",
      "subsystem": "append_only",
      "meaning": "append-only table mutation attempted",
      "retryable": false
    },
    "P7001": {
      "class": "C",
      "subsystem": "platform",
      "meaning": "uuidv7() function required (PostgreSQL 18+)",
      "retryable": false
    },
    "P7002": {
      "canonical": "P7102",
      "class": "B",
      "subsystem": "outbox",
      "meaning": "lease token mismatch on attempt completion",
      "retryable": false
    },
    "P7003": {
      "canonical": "P7103",
      "class": "B",
      "subsystem": "state_machine",
      "meaning": "invalid terminal/finality state transition",
      "retryable": false
    },
    "P7102": {
      "class": "B",
      "subsystem": "outbox",
      "meaning": "lease token mismatch on attempt completion",
      "retryable": false
    },
    "P7103": {
      "class": "B",
      "subsystem": "state_machine",
      "meaning": "invalid terminal/finality state transition",
      "retryable": false
    },
    "P7004": {
      "canonical": "P7104",
      "class": "B",
      "subsystem": "pii",
      "meaning": "invalid purge operation or direct vault mutation",
      "retryable": false
    },
    "P7104": {
      "class": "B",
      "subsystem": "pii",
      "meaning": "invalid purge operation or direct vault mutation",
      "retryable": false
    },
    "P7005": {
      "canonical": "P7105",
      "class": "B",
      "subsystem": "rail_anchor",
      "meaning": "missing or invalid rail sequence truth anchor on dispatch",
      "retryable": false
    },
    "P7105": {
      "class": "B",
      "subsystem": "rail_anchor",
      "meaning": "missing or invalid rail sequence truth anchor on dispatch",
      "retryable": false
    },
    "P7201": {
      "class": "B",
      "subsystem": "ingress",
      "meaning": "tenant_id required when member_id is set",
      "retryable": false
    },
    "P7202": {
      "class": "B",
      "subsystem": "ingress",
      "meaning": "member/tenant mismatch",
      "retryable": false
    }
  }
}
